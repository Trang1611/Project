<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="giao_dien.css">
    <link rel="stylesheet" href="search.css"> 
    <script src="jquery-1.10.2.min.js"></script>
    <link rel="stylesheet" href="Main.css">
    <title>Giao Dien Test</title>
</head>
<body>
    <div class="bg d-flex w-1450 h-200 "> 
        
        <div class="search-box" >
            <input class="search-txt" type="text" name="" placeholder="Type to search">
                    <a class="search-btn" href="#">
                    <i class="fas fa-search" ></i>
        
                    </a>
        </div>
        <h1 style="display:inline; line-height:1.6">Meloduck</h1>
        
    </div>
    <div class="bg2 d-flex w-1450 h-200"></div>
    <div class="bg3 d-flex2 w-1430 h-610">
        <div class="bg4 w-400 h-450 m-item ">
            <center><h2>Nhạc ngẫu nhiên</h2></center>
            <div id="main">
                <div id="image">
                    <img src="prey1.png"/> 
                </div>
                <div id="player">
                    <div id="songTitle">Demo</div>
                    <div id="buttons">
                        <button id="pre" onclick="pre()"><img src="Pre.png" height="90%" width="90%"/></button>
                        <button id="play" onclick="playOrPauseSong()"><img src="Pause.png"/></button>
                        <button id="next" onclick="next()"><img src="Next.png" height="90%" width="90%"/></button>
                    </div>
                    
                    <div id="seek-bar">
                        <div id="fill"></div>
                        <div id="handle"></div>
                    </div>
                </div>
            </div>
        </body>
        <script type="text/javascript">
        
            var songs = ["Prey - The Neighbourhood","Mans Not Hot - Big Shaq", "Bandito - Twenty One Pilots", "Waste It On Me - Steve Aoki, BTS", "Buttercup - Jack Stauber", "Into The Unknown - Panic! At The Disco", "Ghost Of You - 5 Seconds Of Summer", "Best Of Me - John.k", "11 Minutes - YUNGBLUB, Halsey, Travis Baker", "Congratulations - Post Malone, Quavo"];
            var poster = ["prey1.png","mans3.png", "bandito.png", "waste.png", "buttercup.png", "into.png", "ghost.png", "best.png", "minutes.png", "congrat.png"];
            var songs_mp3 = ["prey.mp3", "mans.mp3", "bandito.mp3", "waste.mp3", "buttercup.mp3", "into.mp3", "ghost.mp3", "best.mp3", "minutes.mp3", "congrats.mp3"]
         
            var songTitle = document.getElementById("songTitle");
            var fillBar = document.getElementById("fill");
            
            var song = new Audio();
            var currentSong = 0;    // it point to the current song
            
            window.onload = playSong;   // it will call the function playSong when window is load
            
            function playSong(){
                
                song.src = songs_mp3[currentSong]  //set the source of 0th song 
                
                songTitle.textContent = songs[currentSong]; // set the title of song
                
                song.play();    // play the song
            }
            
            function playOrPauseSong(){
                
                if(song.paused){
                    song.play();
                    $("#play img").attr("src","Pause.png");
                }
                else{
                    song.pause();
                    $("#play img").attr("src","Play.png");
                }
            }
            
            song.addEventListener('timeupdate',function(){ 
                
                var position = song.currentTime / song.duration;
                
                fillBar.style.width = position * 100 +'%';
            });
            
        
            function next(){
                
                currentSong++;
                if(currentSong > 9){
                    currentSong = 0;
                }
                playSong();
                $("#play img").attr("src","Pause.png");
                $("#image img").attr("src",poster[currentSong]);
                $("#bg img").attr("src",poster[currentSong]);
            }
        
            function pre(){
                
                currentSong--;
                if(currentSong < 0){
                    currentSong = 9;
                }
                playSong();
                $("#play img").attr("src","Pause.png");
                $("#image img").attr("src",poster[currentSong]);
                $("#bg img").attr("src",poster[currentSong]);
            }
        
        </script>

        </div>
        <div class="bg4 d-flex w-400 h-450 m-item2"></div>
    </div>
        
    
    </script>


</body>
<script defer src="https://use.fontawesome.com/releases/v5.0.6/js/all.js"></script>

</html>
